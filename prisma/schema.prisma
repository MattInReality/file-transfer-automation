generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id        Int     @id @default(autoincrement())
    firstName String?
    lastName  String?
    email     String?
}

model Connection {
    id              Int            @id @default(autoincrement())
    connectionType Strin
    name            String         @unique
    host            String
    port            Int?
    username        String?
    password        String?
    apiKey          String?
    secure          Boolean?
    transferSources Transfer[]     @relation("sourceOptions")
    transferRemotes Transfer[]     @relation("remoteOptions")
    createdAt       DateTime?      @default(now())
    modifiedAt      DateTime?      @default(now())
}

model Transfer {
    id   Int    @id @default(autoincrement())
    name String

    sourceOptionsId Int
    sourceOptions   Connection @relation("sourceOptions", fields: [sourceOptionsId], references: [id])

    remoteOptionsId Int
    remoteOptions   Connection @relation("remoteOptions", fields: [remoteOptionsId], references: [id])

    sourcePath String
    remotePath String
    createdAt  DateTime @default(now())
    modifiedAt DateTime @default(now())
}

model Job {
    id        Int     @id @default(autoincrement())
    jobRunner String
    jobDataId String
    cron      String
    timeout   Int?
    interval  Int?
    active    Boolean @default(true)
}
